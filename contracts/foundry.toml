[profile.default]
# Use our existing src directory for contracts
src = "src"
# Use a separate directory for Foundry tests
test = "test/foundry"
# Output directory
out = "out"
# Dependencies
libs = ["lib"]
# Remappings for OpenZeppelin (installed in lib/) and account-abstraction (in node_modules)
remappings = [
  "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
  "forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/",
  "@account-abstraction/=../node_modules/@account-abstraction/"
]
# Allow accessing node_modules in parent directory
allow_paths = ["../node_modules"]

# Solidity compiler settings (match Hardhat's)
solc_version = "0.8.23"
optimizer = true
optimizer_runs = 200
via_ir = true

# EVM version
evm_version = "cancun"

# RPC endpoints for forking
[rpc_endpoints]
bsc_testnet = "${BSC_TESTNET_RPC_URL}"
bsc_mainnet = "${BSC_RPC_URL}"
sepolia = "https://eth-sepolia.g.alchemy.com/v2/demo"

# Etherscan API keys for verification
[etherscan]
bsc_testnet = { key = "${BSCSCAN_API_KEY}", chain = 97, url = "https://api-testnet.bscscan.com/api" }
bsc = { key = "${BSCSCAN_API_KEY}", chain = 56, url = "https://api.bscscan.com/api" }
